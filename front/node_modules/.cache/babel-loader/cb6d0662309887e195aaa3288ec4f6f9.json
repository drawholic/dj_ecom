{"ast":null,"code":"var _jsxFileName = \"/home/vladick/Projects/ecom/front/src/Register.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { submitStyles, inputStyles, formStyles } from './styles.js';\nimport { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PasswordErrorMessage = _ref => {\n  let {\n    msg\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: 'red'\n    },\n    children: msg\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 39\n  }, this);\n};\n\n_c = PasswordErrorMessage;\nexport default function Register() {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [password1, setPassword1] = useState('');\n  const [error, setError] = useState('');\n  useEffect(() => {\n    setError('');\n  }, [username, password, password1]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (password !== password1) {\n      setError('You passwords are not equal.');\n      return;\n    } else if (!username || !password || !password1) {\n      setError('Fill all of the fields');\n    } else {\n      axios({\n        url: 'http://localhost:8000/register/',\n        method: 'POST',\n        data: {\n          username: username,\n          password: password\n        }\n      }).then(res => {\n        if (res.ok) {\n          sessionStorage.setItem('token', res.data.token);\n          console.log(res.data.token);\n        } else {\n          console.log(res.data);\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !sessionStorage.getItem('token') ? /*#__PURE__*/_jsxDEV(\"form\", {\n      style: formStyles,\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username\",\n        children: \"Enter your username:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: username,\n        name: \"usersname\",\n        onChange: e => setUsername(e.target.value),\n        style: inputStyles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Enter your password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: password,\n        name: \"password\",\n        type: \"password\",\n        onChange: e => setPassword(e.target.value),\n        style: inputStyles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password1\",\n        children: \"Confirm your password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: password1,\n        name: \"password1\",\n        type: \"password\",\n        onChange: e => setPassword1(e.target.value),\n        style: inputStyles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 3\n      }, this), error ? /*#__PURE__*/_jsxDEV(PasswordErrorMessage, {\n        msg: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 3\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Register\",\n        style: submitStyles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 2\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"You are logged in!!!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 2\n  }, this);\n}\n\n_s(Register, \"YytrMqBkKYbJV6s1gBndPdHj98g=\");\n\n_c2 = Register;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PasswordErrorMessage\");\n$RefreshReg$(_c2, \"Register\");","map":{"version":3,"names":["useState","useEffect","axios","submitStyles","inputStyles","formStyles","Redirect","PasswordErrorMessage","msg","color","Register","username","setUsername","password","setPassword","password1","setPassword1","error","setError","handleSubmit","e","preventDefault","url","method","data","then","res","ok","sessionStorage","setItem","token","console","log","getItem","target","value"],"sources":["/home/vladick/Projects/ecom/front/src/Register.js"],"sourcesContent":["import {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport {submitStyles, inputStyles, formStyles} from './styles.js'\nimport {Redirect} from 'react-router-dom'\n\nconst PasswordErrorMessage =({msg})=> <div style={{color:'red'}}>{msg}</div>\n\nexport default function Register(){\n\tconst [username, setUsername] = useState('')\n\tconst [password, setPassword] = useState('')\n\tconst [password1, setPassword1] = useState('')\n\tconst [error, setError] = useState('')\n\n\tuseEffect(()=>{\n\t\tsetError('')\n\t}, [ username, password, password1])\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\t\tif (password !== password1){\n\t\t\tsetError('You passwords are not equal.')\n\t\t\treturn\n\t\t}\n\t\telse if(!username || !password || !password1){\t\n\t\t\tsetError('Fill all of the fields')\t\n\t\t}\n\t\telse{\n\t\t\taxios({\n\t\t\turl:'http://localhost:8000/register/',\n\t\t\tmethod:'POST',\n\t\t\tdata:{\n\t\t\tusername:username,\n\t\t\tpassword:password\n\t\t\t}\n\t\t\t}).then(res=>{\n\t\t\tif(res.ok){\n\t\t\t\tsessionStorage.setItem('token', res.data.token)\n\t\t\t\tconsole.log(res.data.token)\n\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tconsole.log(res.data)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\treturn(\n\t<div>\n\t{!sessionStorage.getItem('token')?\n\t<form style={formStyles} onSubmit={e => handleSubmit(e)}>\n\t\t<label htmlFor='username'>Enter your username:</label>\n\t\t<input value={username} name='usersname' onChange={e => setUsername(e.target.value)} style={inputStyles}/>\n\t\t\n\t\t<label htmlFor='password'>Enter your password:</label>\n\t\t<input value={password} name='password' type='password' onChange={e => setPassword(e.target.value)} style={inputStyles}/>\n\n\t\t<label htmlFor=\"password1\">Confirm your password:</label>\n\t\t<input value={password1} name='password1' type='password' onChange={e => setPassword1(e.target.value)} style={inputStyles}/>\n\t\t{error ?\n\n\t\t<PasswordErrorMessage msg={error}/>\t:\n\t\t\tnull}\n\t\t<input type='submit' value='Register' style={submitStyles}/>\n\t</form>\n\t:\n\t\t<h1>You are logged in!!!</h1>\n\t}\n\t</div>\n\n\t)\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}