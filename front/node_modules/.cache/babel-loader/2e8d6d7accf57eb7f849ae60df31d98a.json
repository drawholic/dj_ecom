{"ast":null,"code":"var _jsxFileName = \"/home/vladick/Projects/ecom/front/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\nimport { csrftoken } from './Token.js';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst inputStyles = {\n  margin: '20px'\n};\nconst formStyles = {\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center'\n};\nexport default function Login() {\n  _s();\n\n  const [message, setMessage] = useState('');\n  const [token, setToken] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  useEffect(() => {\n    if (token) {\n      axios({\n        method: 'get',\n        url: 'http://localhost:8000',\n        headers: {\n          Authorization: `Token ${token}`\n        }\n      }).then(res => setMessage(res.data.text)).catch(err => console.log(err));\n    }\n  }, [token]);\n\n  const SubmitHandle = e => {\n    e.preventDefault();\n    axios.post('http://localhost:8000/token/', {\n      'username': username,\n      'password': password\n    }).then(res => {\n      setToken(res.data.token);\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Login\",\n    children: !token ? /*#__PURE__*/_jsxDEV(\"form\", {\n      style: formStyles,\n      onSubmit: SubmitHandle,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          inputStyles\n        },\n        value: csrftoken,\n        type: \"hidden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username\",\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          inputStyles\n        },\n        name: \"username\",\n        value: username,\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 16\n  }, this);\n}\n\n_s(Login, \"3iueLyPUM9+WnukOmgRgUv2k/pc=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","useState","useEffect","csrftoken","inputStyles","margin","formStyles","display","flexDirection","justifyContent","Login","message","setMessage","token","setToken","username","setUsername","password","setPassword","method","url","headers","Authorization","then","res","data","text","catch","err","console","log","SubmitHandle","e","preventDefault","post","target","value"],"sources":["/home/vladick/Projects/ecom/front/src/Login.js"],"sourcesContent":["import axios from 'axios'\nimport {useState, useEffect} from 'react'\nimport {csrftoken} from './Token.js'\nimport './App.css'\n\nconst inputStyles = {\n\tmargin: '20px'\n}\n\n\nconst formStyles = {\n\tdisplay:'flex',\n        flexDirection: 'column',\n        justifyContent:'center'\n}\n\n\n\n\nexport default function Login(){\n\n\tconst [message, setMessage] = useState('')\n        const [token, setToken] = useState('')\n        const [username, setUsername] = useState('')\n        const [password, setPassword] = useState('')\n\n        useEffect(()=>{\n                if (token){\n                axios({\n                method: 'get',\n                url:'http://localhost:8000',\n                headers: {\n\t                Authorization: `Token ${token}`\n\t                }\n                }).then(res => setMessage(res.data.text)).catch(err => console.log(err))\n                }\n        }, [token])\n\n\n        const SubmitHandle = e => {\n                e.preventDefault()\n                axios.post('http://localhost:8000/token/', {'username':username, 'password':password})\n                .then(res => {\n                     setToken(res.data.token)\n\t                })\n                .catch(err => console.log(err))\n\t        }\n        return (\n               <div className=\"Login\">\n                {!token?\n                <form style={formStyles} onSubmit={SubmitHandle}>\n\t        <input style={{inputStyles}} value={csrftoken} type='hidden'/>\n\t        <label htmlFor='username'>Username</label>\n                <input style={{inputStyles}} name='username' value={username} onChange={e => setUsername(e.target.value)}/>\n                <label htmlFor='password'>Password</label>\n                <input type='password' name='password' value={password} onChange={e => setPassword(e.target.value)}/>\n                <input type='submit' value='Log in'/>\n                </form>\n                :\n                <h1>{message}</h1>\n                }\n                </div>\n);\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}