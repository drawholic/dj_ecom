{"ast":null,"code":"var _jsxFileName = \"/home/vladick/Projects/ecom/front/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\nimport { csrftoken } from './Token.js'; //import './App.css'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst inputStyles = {\n  margin: '20px',\n  width: '400px',\n  height: '30px',\n  fontSize: '25px'\n};\nconst formStyles = {\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  alignItems: 'center',\n  margin: '150px'\n};\nconst submitStyles = {\n  width: '200px',\n  height: '70px',\n  fontSize: '20px',\n  border: 'none'\n};\nexport default function Login() {\n  _s();\n\n  const [message, setMessage] = useState('');\n  const [token, setToken] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  useEffect(() => {\n    if (sessionStorage.getItem('token')) {\n      console.log('token is here');\n      setToken(sessionStorage.getItem('token'));\n    }\n\n    if (token) {\n      axios({\n        method: 'get',\n        url: 'http://localhost:8000',\n        headers: {\n          Authorization: `Token ${token}`\n        }\n      }).then(res => setMessage(res.data.text)).catch(err => console.log(err));\n    }\n  }, [token]);\n\n  const SubmitHandler = e => {\n    e.preventDefault();\n    axios.post('http://localhost:8000/token/', {\n      'username': username,\n      'password': password\n    }).then(res => {\n      setToken(res.data.token);\n      sessionStorage.setItem('token', res.data.token);\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Login\",\n    children: !token ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: SubmitHandler,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: formStyles,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          style: inputStyles,\n          value: csrftoken,\n          type: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: inputStyles,\n          name: \"username\",\n          value: username,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: inputStyles,\n          type: \"password\",\n          name: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: submitStyles,\n          type: \"submit\",\n          value: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 4\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 16\n  }, this);\n}\n\n_s(Login, \"3iueLyPUM9+WnukOmgRgUv2k/pc=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","useState","useEffect","csrftoken","inputStyles","margin","width","height","fontSize","formStyles","display","flexDirection","justifyContent","alignItems","submitStyles","border","Login","message","setMessage","token","setToken","username","setUsername","password","setPassword","sessionStorage","getItem","console","log","method","url","headers","Authorization","then","res","data","text","catch","err","SubmitHandler","e","preventDefault","post","setItem","target","value"],"sources":["/home/vladick/Projects/ecom/front/src/Login.js"],"sourcesContent":["import axios from 'axios'\nimport {useState, useEffect} from 'react'\nimport {csrftoken} from './Token.js'\n//import './App.css'\n\nconst inputStyles = {\n\tmargin: '20px',\n\twidth:'400px',\n\theight:'30px',\n\tfontSize:'25px'\n}\n\n\nconst formStyles = {\n\tdisplay:'flex',\n        flexDirection: 'column',\n        justifyContent:'center',\n\talignItems:'center',\n\tmargin:'150px'\n}\n\n\nconst submitStyles = {\n\twidth:'200px',\n\theight:'70px',\n\tfontSize:'20px',\n\tborder:'none',\n\n}\n\n\n\nexport default function Login(){\n\n\tconst [message, setMessage] = useState('')\n        const [token, setToken] = useState('')\n        const [username, setUsername] = useState('')\n        const [password, setPassword] = useState('')\n\n        useEffect(()=>{\n\t\tif (sessionStorage.getItem('token')){\n\t\tconsole.log('token is here')\n\t\tsetToken(sessionStorage.getItem('token'))\n\t\t}\n                if (token){\n                axios({\n                method: 'get',\n                url:'http://localhost:8000',\n                headers: {\n\t                Authorization: `Token ${token}`\n\t                }\n                }).then(res => setMessage(res.data.text)).catch(err => console.log(err))\n                }\n        }, [token])\n\n\n        const SubmitHandler = e => {\n                e.preventDefault()\n                axios.post('http://localhost:8000/token/', {'username':username, 'password':password})\n                .then(res => {\n\t\t\tsetToken(res.data.token)\n\t\t\tsessionStorage.setItem('token', res.data.token)\n\t                })\n                .catch(err => console.log(err))\n\t        }\n\n\n        return (\n               <div className=\"Login\">\n                {!token?\n                <form onSubmit={SubmitHandler}>\n\t       <div style={formStyles}> \n\t\t<input style={inputStyles} value={csrftoken} type='hidden'/>\n\t        \n\t\t\t<label htmlFor='username'>Username</label>\n                <input style={inputStyles} name='username' value={username} onChange={e => setUsername(e.target.value)}/>\n                \n\t\t\t<label htmlFor='password'>Password</label>\n                <input style={inputStyles} type='password' name='password' value={password} onChange={e => setPassword(e.target.value)}/>\n                \n\t\t\t<input style={submitStyles} type='submit' value='Log in'/>\n                </div>\n\t\t\t</form>\n                :\n                <h1>{message}</h1>\n                }\n                </div>\n);\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}