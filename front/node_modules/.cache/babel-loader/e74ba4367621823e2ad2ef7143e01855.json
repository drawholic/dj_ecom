{"ast":null,"code":"var _jsxFileName = \"/home/vladick/Projects/ecom/front/src/Profile.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport UserForm from './UserForm.js';\nimport './App.css';\nimport Product from './Product.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst imgStyles = {\n  width: '300px',\n  height: '300px',\n  border: '1px solid black'\n};\nexport default function Profile() {\n  _s();\n\n  const [isLogged, setIsLogged] = useState('');\n  const [userName, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    axios({\n      url: 'http://localhost:8000/profile/',\n      method: 'GET',\n      data: {\n        token: sessionStorage.getItem('token')\n      },\n      headers: {\n        'Authorization': `Token ${sessionStorage.getItem('token')}`\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        setIsLogged(true);\n        setProducts(res.data.products);\n        setUsername(res.data.username);\n        setEmail(res.data.email);\n        setFirstName(res.data.firstname);\n        setLastName(res.data.lastname);\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-header\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: imgStyles,\n      children: \"img place\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 2\n    }, this), /*#__PURE__*/_jsxDEV(UserForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 2\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/products/add-product\",\n      children: \"Add a product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 2\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"My products\", products.map(prod => /*#__PURE__*/_jsxDEV(Product, {\n        title: prod.title\n      }, prod.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 3\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 2\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 2\n  }, this);\n}\n\n_s(Profile, \"6MmtZ63u//Z5WtLq/5ji122iaoU=\");\n\n_c = Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["axios","useEffect","useState","UserForm","Product","imgStyles","width","height","border","Profile","isLogged","setIsLogged","userName","setUsername","email","setEmail","lastName","setLastName","firstName","setFirstName","products","setProducts","url","method","data","token","sessionStorage","getItem","headers","then","res","status","username","firstname","lastname","map","prod","title","id"],"sources":["/home/vladick/Projects/ecom/front/src/Profile.js"],"sourcesContent":["import axios from 'axios'\nimport {useEffect, useState} from 'react'\nimport UserForm from './UserForm.js'\nimport './App.css'\nimport Product from './Product.js'\n\nconst imgStyles ={\n\twidth:'300px',\n\theight:'300px',\n\tborder:'1px solid black'\n}\nexport default function Profile(){\n\n\tconst [isLogged, setIsLogged] = useState('')\n\tconst [userName, setUsername] = useState('')\n\tconst [email, setEmail] = useState('')\n\tconst [lastName, setLastName] = useState('')\n\tconst [firstName, setFirstName] = useState('')\t\n\tconst [products, setProducts] = useState([])\n\tuseEffect(()=>{\n\taxios({\n\t\turl:'http://localhost:8000/profile/',\n\t\tmethod:'GET',\n\t\tdata:{\n\t\ttoken:sessionStorage.getItem('token')\n\t\t},\n\t\theaders:{\n\t\t'Authorization':`Token ${sessionStorage.getItem('token')}`\n\t\t}\n\t}).then(res => {\n\t\tif(res.status===200){\n\t\tsetIsLogged(true)\n\t\tsetProducts(res.data.products)\n\t\tsetUsername(res.data.username)\n\t\tsetEmail(res.data.email)\n\t\tsetFirstName(res.data.firstname)\n\t\tsetLastName(res.data.lastname)\n\t\t\n\t\t}\n\n\t})\t\n\t}, [])\n\treturn(\n\t<div className='profile-header'>\n\t<div style={imgStyles}>\n\t\timg place\n\t</div>\n\t<UserForm />\n\t<a href='/products/add-product'>Add a product</a>\n\t<div>\n\tMy products\n\t\t{products.map((prod)=>(\n\t\t<Product key={prod.id} title={prod.title}/>\n\t\t))}\n\t</div>\t\n\t</div>\n\t)\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAOC,QAAP,MAAqB,eAArB;AACA,OAAO,WAAP;AACA,OAAOC,OAAP,MAAoB,cAApB;;AAEA,MAAMC,SAAS,GAAE;EAChBC,KAAK,EAAC,OADU;EAEhBC,MAAM,EAAC,OAFS;EAGhBC,MAAM,EAAC;AAHS,CAAjB;AAKA,eAAe,SAASC,OAAT,GAAkB;EAAA;;EAEhC,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACgB,SAAD,EAAYC,YAAZ,IAA4BjB,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAACkB,QAAD,EAAWC,WAAX,IAA0BnB,QAAQ,CAAC,EAAD,CAAxC;EACAD,SAAS,CAAC,MAAI;IACdD,KAAK,CAAC;MACLsB,GAAG,EAAC,gCADC;MAELC,MAAM,EAAC,KAFF;MAGLC,IAAI,EAAC;QACLC,KAAK,EAACC,cAAc,CAACC,OAAf,CAAuB,OAAvB;MADD,CAHA;MAMLC,OAAO,EAAC;QACR,iBAAiB,SAAQF,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAgC;MADjD;IANH,CAAD,CAAL,CASGE,IATH,CASQC,GAAG,IAAI;MACd,IAAGA,GAAG,CAACC,MAAJ,KAAa,GAAhB,EAAoB;QACpBpB,WAAW,CAAC,IAAD,CAAX;QACAU,WAAW,CAACS,GAAG,CAACN,IAAJ,CAASJ,QAAV,CAAX;QACAP,WAAW,CAACiB,GAAG,CAACN,IAAJ,CAASQ,QAAV,CAAX;QACAjB,QAAQ,CAACe,GAAG,CAACN,IAAJ,CAASV,KAAV,CAAR;QACAK,YAAY,CAACW,GAAG,CAACN,IAAJ,CAASS,SAAV,CAAZ;QACAhB,WAAW,CAACa,GAAG,CAACN,IAAJ,CAASU,QAAV,CAAX;MAEC;IAED,CApBD;EAqBC,CAtBQ,EAsBN,EAtBM,CAAT;EAuBA,oBACA;IAAK,SAAS,EAAC,gBAAf;IAAA,wBACA;MAAK,KAAK,EAAE7B,SAAZ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADA,eAIA,QAAC,QAAD;MAAA;MAAA;MAAA;IAAA,QAJA,eAKA;MAAG,IAAI,EAAC,uBAAR;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QALA,eAMA;MAAA,0BAEEe,QAAQ,CAACe,GAAT,CAAcC,IAAD,iBACd,QAAC,OAAD;QAAuB,KAAK,EAAEA,IAAI,CAACC;MAAnC,GAAcD,IAAI,CAACE,EAAnB;QAAA;QAAA;QAAA;MAAA,QADC,CAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QANA;EAAA;IAAA;IAAA;IAAA;EAAA,QADA;AAeA;;GA9CuB7B,O;;KAAAA,O"},"metadata":{},"sourceType":"module"}